Buildfile: /home/ec2-user/ASL-MQ/build.xml

compile:

jar:

run:
     [java] Message server running
     [java] ########## Middleware Report ##########
     [java] Req#	 Time	 Resp	 Rate	 Recv#	 Throughput
     [java] 十一月 04, 2014 2:04:51 上午 main.java.ch.ethz.systems.asl.service.db.DBService getConnection
     [java] 資訊: Get connection error:0 ms.
     [java] 十一月 04, 2014 2:04:51 上午 main.java.ch.ethz.systems.asl.service.db.DBService getConnection
     [java] 資訊: Get connection error:0 ms.
     [java] 十一月 04, 2014 2:04:51 上午 main.java.ch.ethz.systems.asl.service.db.DBService getConnection
     [java] 資訊: Get connection error:0 ms.
     [java] 十一月 04, 2014 2:04:51 上午 main.java.ch.ethz.systems.asl.service.db.DBService getConnection
     [java] 資訊: Get connection error:0 ms.
     [java] 十一月 04, 2014 2:04:51 上午 main.java.ch.ethz.systems.asl.service.db.DBService getConnection
     [java] 資訊: Get connection error:0 ms.
     [java] 十一月 04, 2014 2:04:51 上午 main.java.ch.ethz.systems.asl.service.db.DBService getConnection
     [java] 資訊: Get connection error:0 ms.
     [java] 十一月 04, 2014 2:04:51 上午 main.java.ch.ethz.systems.asl.service.db.DBService getConnection
     [java] 資訊: Retry Count: 0
     [java] Exception in thread "pool-1-thread-1" java.lang.NullPointerException
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.getConnection(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.getConnection(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.util.DbUtil.getConnection(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.msgExecution(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.runMsgManagement(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.run(Unknown Source)
     [java] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
     [java] 	at java.lang.Thread.run(Thread.java:745)
     [java] 十一月 04, 2014 2:04:51 上午 main.java.ch.ethz.systems.asl.service.db.DBService getConnection
     [java] 資訊: Retry Count: 0
     [java] 十一月 04, 2014 2:04:51 上午 main.java.ch.ethz.systems.asl.service.db.DBService getConnection
     [java] 資訊: Retry Count: 0
     [java] 十一月 04, 2014 2:04:51 上午 main.java.ch.ethz.systems.asl.service.db.DBService getConnection
     [java] 資訊: Retry Count: 0
     [java] 十一月 04, 2014 2:04:51 上午 main.java.ch.ethz.systems.asl.service.db.DBService getConnection
     [java] 資訊: Retry Count: 0
     [java] 十一月 04, 2014 2:04:51 上午 main.java.ch.ethz.systems.asl.service.db.DBService getConnection
     [java] 資訊: Retry Count: 0
     [java] Exception in thread "pool-1-thread-5" java.lang.NullPointerException
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.getConnection(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.getConnection(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.util.DbUtil.getConnection(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.msgExecution(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.runMsgManagement(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.run(Unknown Source)
     [java] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
     [java] 	at java.lang.Thread.run(Thread.java:745)
     [java] Exception in thread "pool-1-thread-3" java.lang.NullPointerException
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.getConnection(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.getConnection(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.util.DbUtil.getConnection(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.msgExecution(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.runMsgManagement(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.run(Unknown Source)
     [java] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
     [java] 	at java.lang.Thread.run(Thread.java:745)
     [java] Exception in thread "pool-1-thread-2" java.lang.NullPointerException
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.getConnection(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.getConnection(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.util.DbUtil.getConnection(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.msgExecution(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.runMsgManagement(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.run(Unknown Source)
     [java] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
     [java] 	at java.lang.Thread.run(Thread.java:745)
     [java] Exception in thread "pool-1-thread-7" java.lang.NullPointerException
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.getConnection(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.getConnection(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.util.DbUtil.getConnection(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.msgExecution(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.runMsgManagement(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.run(Unknown Source)
     [java] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
     [java] 	at java.lang.Thread.run(Thread.java:745)
     [java] Exception in thread "pool-1-thread-6" java.lang.NullPointerException
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.getConnection(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.getConnection(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.util.DbUtil.getConnection(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.msgExecution(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.runMsgManagement(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.run(Unknown Source)
     [java] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
     [java] 	at java.lang.Thread.run(Thread.java:745)
     [java] 1000	 54187	 54	 18	 980	 83
     [java] 2000	 105858	 52	 19	 1982	 133
     [java] 3000	 160844	 53	 18	 2982	 157
     [java] 4000	 215413	 53	 18	 3984	 173
     [java] 5000	 270740	 54	 18	 4985	 185
     [java] 6000	 328860	 54	 18	 5980	 193
     [java] 7000	 387995	 55	 18	 6980	 200
     [java] 8000	 449029	 56	 17	 7986	 205
     [java] 9000	 512694	 56	 17	 8983	 204
     [java] 10000	 574807	 57	 17	 9980	 208
     [java] 11000	 641030	 58	 17	 10981	 207
     [java] 12000	 742663	 61	 16	 11981	 200
     [java] 13000	 800173	 61	 16	 12982	 203
     [java] 14000	 856001	 61	 16	 13980	 205
     [java] 15000	 916235	 61	 16	 14981	 208
     [java] 16000	 977707	 61	 16	 15980	 210
     [java] 17000	 1040836	 61	 16	 16981	 209
     [java] 18000	 1109560	 61	 16	 17981	 209
     [java] 19000	 1178057	 62	 16	 18983	 211
     [java] 20000	 1248123	 62	 16	 19981	 210
     [java] 21000	 1323675	 63	 15	 20983	 207
     [java] 22000	 1396388	 63	 15	 21986	 207
     [java] 23000	 1473536	 64	 15	 22982	 207
     [java] 24000	 1572603	 65	 15	 23982	 203
     [java] 25000	 1662560	 66	 15	 24980	 201
     [java] 26000	 1761682	 67	 14	 25981	 198
     [java] 27000	 1861738	 68	 14	 26984	 195
     [java] 28000	 1951981	 69	 14	 27980	 194
     [java] 29000	 2066063	 71	 14	 28981	 190
     [java] 30000	 2167534	 72	 13	 29980	 188
     [java] 31000	 2268559	 73	 13	 30981	 186
     [java] 32000	 2380532	 74	 13	 31980	 184
     [java] 33000	 2494133	 75	 13	 32980	 182
     [java] 34000	 2630426	 77	 12	 33980	 178
     [java] 35000	 2749354	 78	 12	 34980	 175
     [java] 36000	 2880635	 80	 12	 35980	 173
     [java] 37000	 3016457	 81	 12	 36980	 170
     [java] 38000	 3137637	 82	 12	 37980	 168
     [java] 39000	 3295061	 84	 11	 38980	 165
     [java] 40000	 3428470	 85	 11	 39980	 163
     [java] 41000	 3595562	 87	 11	 40980	 160
     [java] 42000	 3732551	 88	 11	 41981	 157
     [java] 43000	 3900839	 90	 11	 42981	 155
     [java] 44000	 4043575	 91	 10	 43982	 153
     [java] 45000	 4227324	 93	 10	 44980	 150
     [java] 46000	 4383756	 95	 10	 45982	 148
     [java] 47000	 4573267	 97	 10	 46980	 145
     [java] 48000	 4726592	 98	 10	 47981	 144
     [java] 49000	 4916824	 100	 9	 48980	 141
     [java] 50000	 5083942	 101	 9	 49981	 139
     [java] 51000	 5289042	 103	 9	 50980	 137
     [java] 52000	 5455574	 104	 9	 51980	 135
     [java] 53000	 5660237	 106	 9	 52981	 133
     [java] 54000	 5848570	 108	 9	 53980	 131
     [java] 55000	 6049451	 109	 9	 54980	 130
     [java] 56000	 6266665	 111	 8	 55980	 127
     [java] 57000	 6455808	 113	 8	 56981	 126
     [java] 58000	 6681179	 115	 8	 57980	 124
     [java] 59000	 6882323	 116	 8	 58980	 122
     [java] 60000	 7100511	 118	 8	 59980	 121
     [java] 61000	 7329656	 120	 8	 60980	 119
     [java] 62000	 7541408	 121	 8	 61980	 118
     [java] 63000	 7775721	 123	 8	 62980	 116
     [java] 64000	 8038403	 125	 7	 63981	 114
     [java] 65000	 8247122	 126	 7	 64980	 113
     [java] 66000	 8505889	 128	 7	 65980	 112
     [java] 67000	 8743630	 130	 7	 66980	 110
     [java] 68000	 8978766	 132	 7	 67980	 109
     [java] 69000	 9260945	 134	 7	 68980	 107
     [java] 70000	 9489530	 135	 7	 69980	 106
     [java] 71000	 9775572	 137	 7	 70980	 105
     [java] 72000	 10057438	 139	 7	 71980	 103
     [java] 73000	 10297777	 141	 7	 72980	 102
     [java] 74000	 10577043	 142	 6	 73980	 101
     [java] 75000	 10825694	 144	 6	 74980	 100
     [java] 76000	 11111298	 146	 6	 75980	 99
     [java] 77000	 11418730	 148	 6	 76980	 97
     [java] 78000	 11667868	 149	 6	 77981	 97
     [java] 79000	 11973629	 151	 6	 78981	 95
     [java] 80000	 12253990	 153	 6	 79980	 95
     [java] 81000	 12520434	 154	 6	 80980	 94
     [java] 82000	 12813335	 156	 6	 81980	 93
     [java] 83000	 13111279	 157	 6	 82980	 92
     [java] 84000	 13483587	 160	 6	 83980	 90
     [java] 85000	 13911296	 163	 6	 84981	 89
     [java] 86000	 14327663	 166	 6	 85980	 87
     [java] 87000	 14721754	 169	 5	 86980	 86
     [java] 88000	 15163493	 172	 5	 87980	 84
     [java] 89000	 15609293	 175	 5	 88980	 83
     [java] 90000	 16053630	 178	 5	 89980	 81
     [java] 91000	 16476214	 181	 5	 90980	 80
     [java] 92000	 16925949	 183	 5	 91980	 79
     [java] 93000	 17381872	 186	 5	 92980	 78
     [java] 94000	 17851133	 189	 5	 93980	 77
     [java] 95000	 18278365	 192	 5	 94980	 76
     [java] 96000	 18769168	 195	 5	 95980	 75
     [java] 97000	 19262804	 198	 5	 96980	 73
     [java] 98000	 19722161	 201	 4	 97980	 72
     [java] 99000	 20166493	 203	 4	 98980	 72
     [java] 100000	 20688293	 206	 4	 99980	 70
     [java] 101000	 21204019	 209	 4	 100981	 69
     [java] 102000	 21625007	 212	 4	 101980	 69
     [java] 103000	 22164971	 215	 4	 102980	 68
     [java] 104000	 22691003	 218	 4	 103980	 67
     [java] 105000	 23223617	 221	 4	 104980	 66
     [java] 106000	 23687836	 223	 4	 105980	 65
     [java] 107000	 24257847	 226	 4	 106980	 64
     [java] 108000	 24809999	 229	 4	 107980	 64
     [java] 109000	 25332011	 232	 4	 108980	 63
     [java] 110000	 25835633	 234	 4	 109980	 62
     [java] 111000	 26401822	 237	 4	 110980	 61
     [java] 112000	 27011088	 241	 4	 111980	 61
     [java] 113000	 27610773	 244	 4	 112980	 60
     [java] 114000	 28130190	 246	 4	 113980	 59
     [java] 115000	 28697902	 249	 4	 114980	 59
     [java] 116000	 29347525	 252	 3	 115980	 58
     [java] 117000	 29947221	 255	 3	 116980	 57
     [java] 118000	 30459014	 258	 3	 117980	 57
     [java] 119000	 31104627	 261	 3	 118980	 56
     [java] 120000	 31743924	 264	 3	 119980	 55
     [java] 121000	 32309632	 267	 3	 120980	 55
     [java] 122000	 32897814	 269	 3	 121980	 54
     [java] 123000	 33562500	 272	 3	 122980	 54
     [java] 124000	 34233998	 276	 3	 123980	 53
     [java] 125000	 34883197	 279	 3	 124980	 52
     [java] 126000	 35443315	 281	 3	 125980	 52
     [java] 127000	 36129419	 284	 3	 126980	 51
     [java] 128000	 36827931	 287	 3	 127981	 51
     [java] 129000	 37455961	 290	 3	 128980	 50
     [java] 130000	 38071377	 292	 3	 129980	 50
     [java] 131000	 38795391	 296	 3	 130981	 49
     [java] 132000	 39510131	 299	 3	 131980	 49
     [java] 133000	 40182722	 302	 3	 132980	 48
     [java] 134000	 40815457	 304	 3	 133980	 48
     [java] 135000	 41540710	 307	 3	 134980	 48
     [java] 136000	 42302321	 311	 3	 135980	 47
     [java] 137000	 43013070	 313	 3	 136980	 47
     [java] 138000	 43664543	 316	 3	 137980	 46
     [java] 139000	 44402444	 319	 3	 138980	 46
     [java] 140000	 45171189	 322	 3	 139980	 45
     [java] 141000	 45899914	 325	 3	 140980	 45
     [java] 142000	 46616016	 328	 3	 141980	 45
     [java] 143000	 47331455	 330	 3	 142980	 44
     [java] 144000	 48123515	 334	 2	 143980	 44
     [java] 145000	 48902629	 337	 2	 144980	 43
     [java] 146000	 49646952	 340	 2	 145980	 43
     [java] 147000	 50354337	 342	 2	 146980	 43
     [java] 148000	 51167734	 345	 2	 147980	 42
     [java] 149000	 51981115	 348	 2	 148980	 42
     [java] java.sql.SQLException: sql:SELECT func_delete_msg_byid('d83ddd26-55fb-4cb1-816d-ba902cd72157')
     [java] ERROR: deadlock detected
     [java]   詳細：Process 6897 waits for AccessExclusiveLock on tuple (2410,44) of relation 16403 of database 16385; blocked by process 6898.
     [java] Process 6898 waits for ShareLock on transaction 2921183; blocked by process 6904.
     [java] Process 6904 waits for ShareLock on transaction 2921112; blocked by process 6886.
     [java] Process 6886 waits for AccessExclusiveLock on tuple (2410,44) of relation 16403 of database 16385; blocked by process 6897.
     [java]   建議：See server log for query details.
     [java]   在位置：SQL function "func_delete_msg_byid" statement 1
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.select(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.util.DbUtil.sqlSelect(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.processReceive(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.msgExecution(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.runMsgManagement(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.run(Unknown Source)
     [java] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
     [java] 	at java.lang.Thread.run(Thread.java:745)
     [java] java.sql.SQLException: sql:SELECT func_delete_msg_byid('d83ddd26-55fb-4cb1-816d-ba902cd72157')
     [java] ERROR: deadlock detected
     [java]   詳細：Process 6902 waits for AccessExclusiveLock on tuple (2410,44) of relation 16403 of database 16385; blocked by process 6898.
     [java] Process 6898 waits for ShareLock on transaction 2921183; blocked by process 6904.
     [java] Process 6904 waits for ShareLock on transaction 2921112; blocked by process 6886.
     [java] Process 6886 waits for AccessExclusiveLock on tuple (2410,44) of relation 16403 of database 16385; blocked by process 6902.
     [java]   建議：See server log for query details.
     [java]   在位置：SQL function "func_delete_msg_byid" statement 1
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.select(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.util.DbUtil.sqlSelect(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.processReceive(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.msgExecution(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.runMsgManagement(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.run(Unknown Source)
     [java] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
     [java] 	at java.lang.Thread.run(Thread.java:745)
     [java] java.sql.SQLException: sql:update queue set qsize = ((select qsize from queue where qname = 'queue11') + -1) where qname = 'queue11' 
     [java] ERROR: deadlock detected
     [java]   詳細：Process 6900 waits for ShareLock on transaction 2921284; blocked by process 6886.
     [java] Process 6886 waits for ShareLock on transaction 2921287; blocked by process 6900.
     [java]   建議：See server log for query details.
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.sqlAction(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.util.DbUtil.sqlAction(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.updateQueueSize(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.processReceive(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.msgExecution(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.runMsgManagement(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.run(Unknown Source)
     [java] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
     [java] 	at java.lang.Thread.run(Thread.java:745)
     [java] java.sql.SQLException: sql:SELECT func_delete_msg_byid('382a0d62-b2cd-4020-9036-4f256b18dc0c')
     [java] ERROR: deadlock detected
     [java]   詳細：Process 6900 waits for ShareLock on transaction 2921288; blocked by process 6895.
     [java] Process 6895 waits for ShareLock on transaction 2921284; blocked by process 6886.
     [java] Process 6886 waits for AccessExclusiveLock on tuple (1213,70) of relation 16403 of database 16385; blocked by process 6900.
     [java]   建議：See server log for query details.
     [java]   在位置：SQL function "func_delete_msg_byid" statement 1
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.select(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.util.DbUtil.sqlSelect(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.processReceive(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.msgExecution(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.runMsgManagement(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.run(Unknown Source)
     [java] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
     [java] 	at java.lang.Thread.run(Thread.java:745)
     [java] java.sql.SQLException: sql:SELECT func_delete_msg_byid('382a0d62-b2cd-4020-9036-4f256b18dc0c')
     [java] ERROR: deadlock detected
     [java]   詳細：Process 6904 waits for AccessExclusiveLock on tuple (1213,70) of relation 16403 of database 16385; blocked by process 6887.
     [java] Process 6887 waits for ShareLock on transaction 2921288; blocked by process 6895.
     [java] Process 6895 waits for ShareLock on transaction 2921284; blocked by process 6886.
     [java] Process 6886 waits for AccessExclusiveLock on tuple (1213,70) of relation 16403 of database 16385; blocked by process 6904.
     [java]   建議：See server log for query details.
     [java]   在位置：SQL function "func_delete_msg_byid" statement 1
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.select(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.util.DbUtil.sqlSelect(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.processReceive(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.msgExecution(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.runMsgManagement(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.run(Unknown Source)
     [java] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
     [java] 	at java.lang.Thread.run(Thread.java:745)
     [java] java.sql.SQLException: sql:SELECT func_delete_msg_byid('382a0d62-b2cd-4020-9036-4f256b18dc0c')
     [java] ERROR: deadlock detected
     [java]   詳細：Process 6901 waits for AccessExclusiveLock on tuple (1213,70) of relation 16403 of database 16385; blocked by process 6887.
     [java] Process 6887 waits for ShareLock on transaction 2921288; blocked by process 6895.
     [java] Process 6895 waits for ShareLock on transaction 2921284; blocked by process 6886.
     [java] Process 6886 waits for AccessExclusiveLock on tuple (1213,70) of relation 16403 of database 16385; blocked by process 6901.
     [java]   建議：See server log for query details.
     [java]   在位置：SQL function "func_delete_msg_byid" statement 1
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.select(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.util.DbUtil.sqlSelect(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.processReceive(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.msgExecution(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.runMsgManagement(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.run(Unknown Source)
     [java] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
     [java] 	at java.lang.Thread.run(Thread.java:745)
     [java] java.sql.SQLException: sql:update queue set qsize = ((select qsize from queue where qname = 'queue13') + -1) where qname = 'queue13' 
     [java] ERROR: deadlock detected
     [java]   詳細：Process 6902 waits for ShareLock on transaction 2921301; blocked by process 6891.
     [java] Process 6891 waits for ShareLock on transaction 2921280; blocked by process 6902.
     [java]   建議：See server log for query details.
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.sqlAction(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.util.DbUtil.sqlAction(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.updateQueueSize(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.processReceive(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.msgExecution(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.runMsgManagement(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.run(Unknown Source)
     [java] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
     [java] 	at java.lang.Thread.run(Thread.java:745)
     [java] java.sql.SQLException: sql:SELECT func_delete_msg_byid('e4db3be1-c913-47e7-a4d1-1074f6d42223')
     [java] ERROR: deadlock detected
     [java]   詳細：Process 6898 waits for ShareLock on transaction 2921304; blocked by process 6905.
     [java] Process 6905 waits for ShareLock on transaction 2921301; blocked by process 6891.
     [java] Process 6891 waits for AccessExclusiveLock on tuple (2392,18) of relation 16403 of database 16385; blocked by process 6898.
     [java]   建議：See server log for query details.
     [java]   在位置：SQL function "func_delete_msg_byid" statement 1
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.select(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.util.DbUtil.sqlSelect(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.processReceive(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.msgExecution(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.runMsgManagement(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.run(Unknown Source)
     [java] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
     [java] 	at java.lang.Thread.run(Thread.java:745)
     [java] java.sql.SQLException: sql:update queue set qsize = ((select qsize from queue where qname = 'queue15') + -1) where qname = 'queue15' 
     [java] ERROR: deadlock detected
     [java]   詳細：Process 6904 waits for ExclusiveLock on tuple (13,4) of relation 16388 of database 16385; blocked by process 6900.
     [java] Process 6900 waits for ShareLock on transaction 2921334; blocked by process 6886.
     [java] Process 6886 waits for ShareLock on transaction 2921341; blocked by process 6904.
     [java]   建議：See server log for query details.
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.sqlAction(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.util.DbUtil.sqlAction(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.updateQueueSize(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.processReceive(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.msgExecution(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.runMsgManagement(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.run(Unknown Source)
     [java] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
     [java] 	at java.lang.Thread.run(Thread.java:745)
     [java] java.sql.SQLException: sql:SELECT func_delete_msg('queue11')
     [java] ERROR: deadlock detected
     [java]   詳細：Process 6899 waits for AccessExclusiveLock on tuple (1213,70) of relation 16403 of database 16385; blocked by process 6901.
     [java] Process 6901 waits for ShareLock on transaction 2921292; blocked by process 6887.
     [java] Process 6887 waits for ShareLock on transaction 2921313; blocked by process 6899.
     [java]   建議：See server log for query details.
     [java]   在位置：SQL function "func_delete_msg" statement 1
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.select(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.util.DbUtil.sqlSelect(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.processSend(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.msgExecution(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.runMsgManagement(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.run(Unknown Source)
     [java] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
     [java] 	at java.lang.Thread.run(Thread.java:745)
     [java] java.sql.SQLException: sql:SELECT func_delete_msg_detail('queue11')
     [java] ERROR: deadlock detected
     [java]   詳細：Process 6903 waits for ShareLock on transaction 2921375; blocked by process 6884.
     [java] Process 6884 waits for ShareLock on transaction 2921371; blocked by process 6903.
     [java]   建議：See server log for query details.
     [java]   在位置：SQL function "func_delete_msg_detail" statement 1
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.select(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.util.DbUtil.sqlSelect(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.processSend(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.msgExecution(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.runMsgManagement(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.run(Unknown Source)
     [java] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
     [java] 	at java.lang.Thread.run(Thread.java:745)
     [java] java.sql.SQLException: sql:update queue set qsize = ((select qsize from queue where qname = 'queue15') + -1) where qname = 'queue15' 
     [java] ERROR: deadlock detected
     [java]   詳細：Process 6897 waits for ShareLock on transaction 2921439; blocked by process 6890.
     [java] Process 6890 waits for ShareLock on transaction 2921387; blocked by process 6897.
     [java]   建議：See server log for query details.
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.sqlAction(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.util.DbUtil.sqlAction(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.updateQueueSize(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.processReceive(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.msgExecution(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.runMsgManagement(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.run(Unknown Source)
     [java] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
     [java] 	at java.lang.Thread.run(Thread.java:745)
     [java] java.sql.SQLException: sql:SELECT func_delete_msg_byid('80cd9650-dbbb-4607-986e-2768f062bd45')
     [java] ERROR: deadlock detected
     [java]   詳細：Process 6900 waits for ShareLock on transaction 2921410; blocked by process 6889.
     [java] Process 6889 waits for ShareLock on transaction 2921439; blocked by process 6890.
     [java] Process 6890 waits for AccessExclusiveLock on tuple (2411,2) of relation 16403 of database 16385; blocked by process 6900.
     [java]   建議：See server log for query details.
     [java]   在位置：SQL function "func_delete_msg_byid" statement 1
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.select(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.util.DbUtil.sqlSelect(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.processReceive(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.msgExecution(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.runMsgManagement(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.run(Unknown Source)
     [java] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
     [java] 	at java.lang.Thread.run(Thread.java:745)
     [java] java.sql.SQLException: sql:SELECT func_delete_msg_detail('queue15')
     [java] ERROR: deadlock detected
     [java]   詳細：Process 6903 waits for ShareLock on transaction 2921435; blocked by process 6901.
     [java] Process 6901 waits for ShareLock on transaction 2921487; blocked by process 6903.
     [java]   建議：See server log for query details.
     [java]   在位置：SQL function "func_delete_msg_detail" statement 1
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.select(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.util.DbUtil.sqlSelect(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.processSend(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.msgExecution(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.runMsgManagement(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.run(Unknown Source)
     [java] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
     [java] 	at java.lang.Thread.run(Thread.java:745)
     [java] java.sql.SQLException: sql:update queue set qsize = ((select qsize from queue where qname = 'queue15') + -1) where qname = 'queue15' 
     [java] ERROR: deadlock detected
     [java]   詳細：Process 6901 waits for ShareLock on transaction 2921475; blocked by process 6897.
     [java] Process 6897 waits for ShareLock on transaction 2921435; blocked by process 6901.
     [java]   建議：See server log for query details.
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.sqlAction(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.util.DbUtil.sqlAction(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.updateQueueSize(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.processReceive(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.msgExecution(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.runMsgManagement(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.run(Unknown Source)
     [java] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
     [java] 	at java.lang.Thread.run(Thread.java:745)
     [java] java.sql.SQLException: sql:SELECT func_delete_msg_detail_byid('80cd9650-dbbb-4607-986e-2768f062bd45')
     [java] ERROR: deadlock detected
     [java]   詳細：Process 6905 waits for ShareLock on transaction 2921475; blocked by process 6897.
     [java] Process 6897 waits for AccessExclusiveLock on tuple (2411,2) of relation 16403 of database 16385; blocked by process 6885.
     [java] Process 6885 waits for ShareLock on transaction 2921443; blocked by process 6905.
     [java]   建議：See server log for query details.
     [java]   在位置：SQL function "func_delete_msg_detail_byid" statement 1
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.select(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.util.DbUtil.sqlSelect(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.processReceive(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.msgExecution(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.runMsgManagement(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.run(Unknown Source)
     [java] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
     [java] 	at java.lang.Thread.run(Thread.java:745)
     [java] java.sql.SQLException: sql:SELECT func_delete_msg('queue15')
     [java] ERROR: deadlock detected
     [java]   詳細：Process 6897 waits for AccessExclusiveLock on tuple (2411,2) of relation 16403 of database 16385; blocked by process 6890.
     [java] Process 6890 waits for ShareLock on transaction 2921465; blocked by process 6885.
     [java] Process 6885 waits for ShareLock on transaction 2921475; blocked by process 6897.
     [java]   建議：See server log for query details.
     [java]   在位置：SQL function "func_delete_msg" statement 1
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.select(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.util.DbUtil.sqlSelect(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.processSend(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.msgExecution(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.runMsgManagement(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.run(Unknown Source)
     [java] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
     [java] 	at java.lang.Thread.run(Thread.java:745)
     [java] java.sql.SQLException: sql:SELECT func_delete_msg_byid('80cd9650-dbbb-4607-986e-2768f062bd45')
     [java] ERROR: deadlock detected
     [java]   詳細：Process 6899 waits for ShareLock on transaction 2921492; blocked by process 6890.
     [java] Process 6890 waits for ShareLock on transaction 2921600; blocked by process 6887.
     [java] Process 6887 waits for AccessExclusiveLock on tuple (2411,2) of relation 16403 of database 16385; blocked by process 6899.
     [java]   建議：See server log for query details.
     [java]   在位置：SQL function "func_delete_msg_byid" statement 1
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.select(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.util.DbUtil.sqlSelect(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.processReceive(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.msgExecution(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.runMsgManagement(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.run(Unknown Source)
     [java] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
     [java] 	at java.lang.Thread.run(Thread.java:745)
     [java] java.sql.SQLException: sql:update queue set qsize = ((select qsize from queue where qname = 'queue15') + 1) where qname = 'queue15' 
     [java] ERROR: deadlock detected
     [java]   詳細：Process 6897 waits for ShareLock on transaction 2921607; blocked by process 6891.
     [java] Process 6891 waits for ShareLock on transaction 2921517; blocked by process 6900.
     [java] Process 6900 waits for ExclusiveLock on tuple (13,25) of relation 16388 of database 16385; blocked by process 6897.
     [java]   建議：See server log for query details.
     [java] 	at main.java.ch.ethz.systems.asl.service.db.DBService.sqlAction(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.util.DbUtil.sqlAction(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.updateQueueSize(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.processSend(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.msgExecution(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.runMsgManagement(Unknown Source)
     [java] 	at main.java.ch.ethz.systems.asl.service.middleware.MessageService.run(Unknown Source)
     [java] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
     [java] 	at java.lang.Thread.run(Thread.java:745)
     [java] 150000	 52904149	 352	 2	 149982	 42
